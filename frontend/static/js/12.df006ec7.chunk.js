(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[12],{440:function(e,t,n){"use strict";var a=n(1),c=n(0),i=n(163),r=n(28),o=function(e,t){return c.createElement(r.a,Object(a.a)(Object(a.a)({},e),{},{ref:t,icon:i.a}))};o.displayName="EditOutlined",t.a=c.forwardRef(o)},441:function(e,t,n){"use strict";var a=n(1),c=n(0),i=n(429),r=n(28),o=function(e,t){return c.createElement(r.a,Object(a.a)(Object(a.a)({},e),{},{ref:t,icon:i.a}))};o.displayName="DeleteOutlined",t.a=c.forwardRef(o)},521:function(e,t,n){"use strict";n.r(t);var a=n(45),c=n(38),i=n(0),r=n(175),o=n(413),u=n(53),s=n(76),l=n(479),b=n(411),j=n(490),d=n(440),m=n(441),O=n(415),p=n(23),h=n(409),f=n(494),x=n(406),g=n(435),y=n(6),S=h.a.useForm,k=h.a.Item,v=function(e){var t=e.visible,n=e.onCancel,a=e.onSubmit,r=e.onOpen,o=e.studyProgram,u=Object(i.useState)(!1),l=Object(c.a)(u,2),b=l[0],j=l[1],d=S(),m=Object(c.a)(d,1)[0],p=Object(i.useMemo)((function(){return"undefined"!==typeof o}),[o]),v=Object(i.useCallback)((function(){m.resetFields(["name","diploma","type"]),j(!1)}),[m]),C=Object(i.useCallback)((function(e){j(!0),a(e,v)}),[a,v]);return Object(i.useEffect)((function(){"undefined"!==typeof o&&m.setFieldsValue({name:o.name,type:o.type,diploma:o.diploma})}),[o,m]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(s.a,{style:{marginBottom:12},onClick:r,children:"Tambah Program Studi"}),Object(y.jsx)(f.a,{afterClose:v,visible:t,onCancel:n,title:p?"Edit ".concat(o.name):"Tambah Program Studi",footer:null,children:Object(y.jsxs)(h.a,{onFinish:b?void 0:C,form:m,layout:"vertical",children:[Object(y.jsx)(k,{name:"name",rules:[{required:!0,message:"Masukkan nama program studi"}],label:"Program Studi",children:Object(y.jsx)(x.a,{prefix:b&&Object(y.jsx)(O.a,{spin:!0}),placeholder:"Program Studi"})}),Object(y.jsx)(k,{name:"type",rules:[{required:!0,message:"Pilih tipe program studi"}],label:"Tipe Program Studi",children:Object(y.jsxs)(g.a.Group,{buttonStyle:"solid",children:[Object(y.jsx)(g.a.Button,{value:"technology",children:"Kelompok Sains Teknologi"}),Object(y.jsx)(g.a.Button,{value:"humaniora",children:"Kelompok Sosial Humaniora"})]})}),Object(y.jsx)(k,{name:"diploma",rules:[{required:!0,message:"Pilih diploma"}],label:"Program Diploma",children:Object(y.jsxs)(g.a.Group,{children:[Object(y.jsx)(g.a,{value:"3",children:"Diploma 3"}),Object(y.jsx)(g.a,{value:"4",children:"Diploma 4"})]})}),Object(y.jsx)(k,{children:p?Object(y.jsx)(s.a,{htmlType:"submit",type:"primary",loading:b,children:"Simpan"}):Object(y.jsx)(s.a,{htmlType:"submit",loading:b,children:"Tambah Program Studi"})})]})})]})},C=n(161),P=n(104),T=function(){var e=Object(i.useState)(!1),t=Object(c.a)(e,2),n=t[0],h=t[1],f=Object(i.useState)({rows:[],count:0}),x=Object(c.a)(f,2),g=x[0],S=x[1],k=Object(i.useState)(void 0),T=Object(c.a)(k,2),w=T[0],E=T[1],J=Object(i.useState)(void 0),D=Object(c.a)(J,2),F=D[0],B=D[1],z=Object(i.useState)(1),H=Object(c.a)(z,2),M=H[0],K=H[1],I=Object(i.useState)(10),q=Object(c.a)(I,2),A=q[0],R=q[1],_=Object(i.useState)(!0),G=Object(c.a)(_,2),N=G[0],V=G[1],L=Object(p.i)().id,Q=Object(p.g)().push,U=Object(C.a)().models,W=U.StudyProgram,X=U.Department,Y=Object(P.a)().errorCatch;document.title="Dashboard - Program Studi";var Z=Object(i.useCallback)((function(){X.single(L).then((function(e){B(e)})).catch(Y)}),[X,Y,L]),$=Object(i.useCallback)((function(){V(!0);var e=(M-1)*A;W.collection({attributes:["name","type","diploma","department_id"],limit:A,offset:e,where:{department_id:L}}).then((function(e){V(!1),S(e)})).catch((function(e){return Y(e)}))}),[M,A,W,Y,L]);Object(i.useEffect)((function(){$(),Z()}),[$,Z]);var ee=Object(i.useCallback)((function(e){e.delete().then((function(e){r.b.success("Program Studi ".concat(e.name," berhasil dihapus")),$()})).catch(Y)}),[Y,$]),te=Object(i.useMemo)((function(){return[{title:"Program Studi",key:"name",dataIndex:"name"},{title:"Program Diploma",key:"diploma",dataIndex:"diploma",render:function(e){return"Program Diploma ".concat(e)}},{title:"Kelompok",key:"type",dataIndex:"type",render:function(e){return"technology"===e?"Kelompok Sains Teknologi":"Kelompok Sosial Humaniora"}},{title:"Edit | Hapus",key:"action",render:function(e){return Object(y.jsxs)(o.b,{children:[Object(y.jsx)(u.a,{title:"Edit ".concat(e.name),children:Object(y.jsx)(s.a,{onClick:function(){h(!0),E(e)},size:"small",icon:Object(y.jsx)(d.a,{})})}),Object(y.jsx)(u.a,{title:"Hapus ".concat(e.name),children:Object(y.jsx)(l.a,{title:"Apakah Anda yakin ingin menghapus ".concat(e.name,"?"),okText:"Hapus",cancelText:"Batal",okButtonProps:{danger:!0,type:"primary"},onConfirm:function(){return ee(e)},placement:"topRight",children:Object(y.jsx)(s.a,{size:"small",type:"primary",danger:!0,icon:Object(y.jsx)(m.a,{})})})})]})}}]}),[ee]),ne=Object(i.useCallback)((function(e,t){W.create(Object(a.a)(Object(a.a)({},e),{},{department_id:L})).then((function(e){r.b.success("Program Studi ".concat(e.name," berhasil ditambah")),$(),t(),h(!1)})).catch(Y)}),[W,$,Y,L]),ae=Object(i.useCallback)((function(e,t){"undefined"!==typeof w&&w.update(e).then((function(e){r.b.success("Program studi ".concat(w.name," berhasil diubah menjadi ").concat(e.name)),$(),t(),h(!1)})).catch(Y)}),[w,Y,$]);return Object(y.jsxs)("div",{children:[Object(y.jsx)(b.a,{title:"undefined"!==typeof F?F.name:"Program Studi",onBack:function(){return Q("/dashboard/jurusan")}}),Object(y.jsx)(v,{visible:n,onCancel:function(){h(!1),E(void 0)},onOpen:function(){return h(!0)},onSubmit:"undefined"!==typeof w?ae:ne,studyProgram:w}),Object(y.jsx)(j.a,{dataSource:g.rows,rowKey:function(e){return"".concat(e.id)},columns:te,bordered:!0,pagination:{current:M,onChange:K,pageSize:A,onShowSizeChange:function(e,t){return R(t)},total:g.count},loading:{indicator:Object(y.jsx)(O.a,{spin:N}),spinning:N,tip:"Mengambil data user"}})]})},w=function(){return Object(y.jsx)(T,{})},E=n(410),J=n(66),D=h.a.useForm,F=h.a.Item,B=function(e){var t=e.visible,n=e.onCancel,a=e.onSubmit,r=e.onOpen,o=e.department,u=Object(i.useState)(!1),l=Object(c.a)(u,2),b=l[0],j=l[1],d=D(),m=Object(c.a)(d,1)[0],p=Object(i.useMemo)((function(){return"undefined"!==typeof o}),[o]),g=Object(i.useCallback)((function(){m.resetFields(["name"]),j(!1)}),[m]),S=Object(i.useCallback)((function(e){j(!0),a(e,g)}),[a,g]);return Object(i.useEffect)((function(){"undefined"!==typeof o&&m.setFieldsValue({name:o.name})}),[o,m]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(s.a,{style:{marginBottom:12},onClick:r,children:"Tambah Jurusan"}),Object(y.jsx)(f.a,{afterClose:g,visible:t,onCancel:n,title:p?"Edit ".concat(o.name):"Tambah Jurusan",footer:null,children:Object(y.jsxs)(h.a,{onFinish:b?void 0:S,form:m,layout:"vertical",children:[Object(y.jsx)(F,{name:"name",rules:[{required:!0,message:"Masukkan nama program studi"}],label:"Jurusan",children:Object(y.jsx)(x.a,{prefix:b&&Object(y.jsx)(O.a,{spin:!0}),placeholder:"Jurusan"})}),Object(y.jsx)(F,{children:p?Object(y.jsx)(s.a,{htmlType:"submit",type:"primary",loading:b,children:"Simpan"}):Object(y.jsx)(s.a,{htmlType:"submit",loading:b,children:"Tambah Jurusan"})})]})})]})},z=function(){var e=Object(i.useState)(!1),t=Object(c.a)(e,2),n=t[0],a=t[1],b=Object(i.useState)({rows:[],count:0}),h=Object(c.a)(b,2),f=h[0],x=h[1],g=Object(i.useState)(void 0),S=Object(c.a)(g,2),k=S[0],v=S[1],T=Object(i.useState)(1),w=Object(c.a)(T,2),D=w[0],F=w[1],z=Object(i.useState)(10),H=Object(c.a)(z,2),M=H[0],K=H[1],I=Object(i.useState)(!0),q=Object(c.a)(I,2),A=q[0],R=q[1],_=Object(p.j)().path,G=Object(C.a)().models.Department,N=Object(P.a)().errorCatch;document.title="Dashboard - Program Studi";var V=Object(i.useCallback)((function(){R(!0);var e=(D-1)*M;G.collection({attributes:["name"],limit:M,offset:e}).then((function(e){R(!1),x(e)})).catch((function(e){return N(e)}))}),[D,M,G,N]);Object(i.useEffect)((function(){V()}),[V]);var L=Object(i.useCallback)((function(e){e.delete().then((function(e){r.b.success("Program Studi ".concat(e.name," berhasil dihapus")),V()})).catch(N)}),[N,V]),Q=Object(i.useMemo)((function(){return[{title:"Jurusan",key:"name",dataIndex:"name",render:function(e,t){return Object(y.jsx)(J.b,{to:"".concat(_,"/").concat(t.id),children:e})}},{title:"Edit | Hapus",key:"action",render:function(e){return Object(y.jsxs)(o.b,{children:[Object(y.jsx)(u.a,{title:"Edit ".concat(e.name),children:Object(y.jsx)(s.a,{onClick:function(){a(!0),v(e)},size:"small",icon:Object(y.jsx)(d.a,{})})}),Object(y.jsx)(u.a,{title:"Hapus ".concat(e.name),children:Object(y.jsx)(l.a,{title:"Apakah Anda yakin ingin menghapus ".concat(e.name,"?"),okText:"Hapus",cancelText:"Batal",okButtonProps:{danger:!0,type:"primary"},onConfirm:function(){return L(e)},children:Object(y.jsx)(s.a,{size:"small",type:"primary",danger:!0,icon:Object(y.jsx)(m.a,{})})})})]})}}]}),[L,_]),U=Object(i.useCallback)((function(e,t){G.create(e).then((function(e){r.b.success("Jurusan ".concat(e.name," berhasil ditambah")),V(),t(),a(!1)})).catch(N)}),[G,V,N]),W=Object(i.useCallback)((function(e,t){"undefined"!==typeof k&&k.update(e).then((function(e){r.b.success("Jurusan ".concat(k.name," berhasil diubah menjadi ").concat(e.name)),V(),t(),a(!1)})).catch(N)}),[k,N,V]);return Object(y.jsxs)("div",{children:[Object(y.jsx)(E.a.Title,{level:5,children:"Jurusan"}),Object(y.jsx)(B,{visible:n,onCancel:function(){a(!1),v(void 0)},onOpen:function(){return a(!0)},onSubmit:"undefined"!==typeof k?W:U,department:k}),Object(y.jsx)(j.a,{dataSource:f.rows,rowKey:function(e){return"".concat(e.id)},columns:Q,bordered:!0,pagination:{current:D,onChange:F,pageSize:M,onShowSizeChange:function(e,t){return K(t)},total:f.count},loading:{indicator:Object(y.jsx)(O.a,{spin:A}),spinning:A,tip:"Mengambil data user"}})]})},H=function(){return Object(y.jsx)(z,{})};t.default=function(){var e=Object(p.j)().path;return Object(y.jsxs)(p.d,{children:[Object(y.jsx)(p.b,{path:e,exact:!0,component:H}),Object(y.jsx)(p.b,{path:"".concat(e,"/:id"),exact:!0,component:w})]})}}}]);
//# sourceMappingURL=12.df006ec7.chunk.js.map