{"version":3,"sources":["../node_modules/@ant-design/icons/es/icons/EditOutlined.js","../node_modules/@ant-design/icons/es/icons/DeleteOutlined.js","pages/ProgramStudies/AddStudyProgram.jsx","pages/ProgramStudies/Layout.jsx","pages/ProgramStudies/index.jsx","pages/Departments/AddDepartment.jsx","pages/Departments/Layout.jsx","pages/Departments/index.jsx","pages/Departments/Router.jsx"],"names":["EditOutlined","props","ref","React","AntdIcon","_objectSpread","icon","EditOutlinedSvg","displayName","DeleteOutlined","DeleteOutlinedSvg","useForm","Form","Item","AddStudyProgram","visible","onCancel","onSubmit","onOpen","studyProgram","useState","loading","toggleLoading","form","isEdit","useMemo","clearForm","useCallback","resetFields","onFinish","val","useEffect","setFieldsValue","name","type","diploma","style","marginBottom","onClick","afterClose","title","footer","undefined","layout","rules","required","message","label","prefix","LoadingOutlined","spin","placeholder","Group","buttonStyle","Button","value","htmlType","Layout","modal","toggleModal","rows","count","studyPrograms","setStudyPrograms","setStudyProgram","department","setDepartment","page","setPage","limit","setLimit","id","useParams","push","useHistory","useModels","models","StudyProgram","Department","errorCatch","useErrorCatcher","document","getDepartment","single","then","resp","catch","getStudyPrograms","offset","collection","attributes","where","department_id","e","deleteStudyProgram","delete","success","columns","key","dataIndex","render","row","size","okText","cancelText","okButtonProps","danger","onConfirm","placement","createStudyProgram","cb","create","updateStudyProgram","update","onBack","dataSource","rowKey","item","bordered","pagination","current","onChange","pageSize","onShowSizeChange","total","indicator","spinning","tip","ProgramStudies","AddDepartment","departments","setDepartments","path","useRouteMatch","getDepartments","deleteDepartment","text","to","createDepartment","updateDepartment","Title","level","Router","exact","component"],"mappings":"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","file":"static/js/12.df006ec7.chunk.js","sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport EditOutlinedSvg from \"@ant-design/icons-svg/es/asn/EditOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar EditOutlined = function EditOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: EditOutlinedSvg\n  }));\n};\n\nEditOutlined.displayName = 'EditOutlined';\nexport default /*#__PURE__*/React.forwardRef(EditOutlined);","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport DeleteOutlinedSvg from \"@ant-design/icons-svg/es/asn/DeleteOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar DeleteOutlined = function DeleteOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: DeleteOutlinedSvg\n  }));\n};\n\nDeleteOutlined.displayName = 'DeleteOutlined';\nexport default /*#__PURE__*/React.forwardRef(DeleteOutlined);","import { useState, useCallback, useMemo, useEffect } from 'react'\r\nimport { Button, Modal, Form, Input, Radio } from 'antd';\r\nimport { LoadingOutlined } from '@ant-design/icons';\r\n\r\n// 'program_chief' => kaprodi , 'chief' => kajur, 'vice_director' => wadir, 'director' => direk, 'head_team' => tim institusi, 'program_team' => tim prodi, 'administrator' => admin\r\n\r\nconst { useForm, Item } = Form;\r\n\r\nconst AddStudyProgram = ({ visible, onCancel, onSubmit, onOpen, studyProgram }) => {\r\n  const [loading, toggleLoading] = useState(false);\r\n  const [form] = useForm();\r\n\r\n  const isEdit = useMemo(() => (typeof studyProgram !== 'undefined'), [studyProgram]);\r\n\r\n  const clearForm = useCallback(() => {\r\n    form.resetFields(['name', 'diploma', 'type']);\r\n    toggleLoading(false);\r\n  }, [form]);\r\n\r\n  const onFinish = useCallback((val) => {\r\n    toggleLoading(true);\r\n    onSubmit(val, clearForm);\r\n  }, [onSubmit, clearForm]);\r\n\r\n  useEffect(() => {\r\n    (typeof studyProgram !== 'undefined') && form.setFieldsValue({\r\n      name: studyProgram.name,\r\n      type: studyProgram.type,\r\n      diploma: studyProgram.diploma\r\n    });\r\n  }, [studyProgram, form]);\r\n\r\n  return (\r\n    <>\r\n      <Button style={{ marginBottom: 12 }} onClick={onOpen}>Tambah Program Studi</Button>\r\n      <Modal afterClose={clearForm} visible={visible} onCancel={onCancel} title={isEdit ? `Edit ${studyProgram.name}` : `Tambah Program Studi`} footer={null}>\r\n        <Form onFinish={loading ? undefined : onFinish} form={form} layout=\"vertical\">\r\n          <Item name=\"name\" rules={[{ required: true, message: 'Masukkan nama program studi' }]} label=\"Program Studi\">\r\n            <Input prefix={loading && <LoadingOutlined spin />} placeholder=\"Program Studi\" />\r\n          </Item>\r\n          <Item name=\"type\" rules={[{ required: true, message: 'Pilih tipe program studi' }]} label=\"Tipe Program Studi\">\r\n            <Radio.Group buttonStyle=\"solid\">\r\n              <Radio.Button value=\"technology\" >Kelompok Sains Teknologi</Radio.Button>\r\n              <Radio.Button value=\"humaniora\" >Kelompok Sosial Humaniora</Radio.Button>\r\n            </Radio.Group>\r\n          </Item>\r\n          <Item name=\"diploma\" rules={[{ required: true, message: 'Pilih diploma' }]} label=\"Program Diploma\">\r\n            <Radio.Group>\r\n              <Radio value=\"3\" >Diploma 3</Radio>\r\n              <Radio value=\"4\" >Diploma 4</Radio>\r\n            </Radio.Group>\r\n          </Item>\r\n          <Item>\r\n            {isEdit ?\r\n              <Button htmlType=\"submit\" type=\"primary\" loading={loading}>Simpan</Button>\r\n              :\r\n              <Button htmlType=\"submit\" loading={loading}>Tambah Program Studi</Button>\r\n            }\r\n          </Item>\r\n        </Form>\r\n      </Modal>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default AddStudyProgram\r\n","import { useState, useCallback, useEffect, useMemo } from 'react'\r\nimport { Table, Space, Tooltip, Button, message, Popconfirm, PageHeader } from 'antd'\r\nimport { DeleteOutlined, EditOutlined, LoadingOutlined } from '@ant-design/icons';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport AddStudyProgram from './AddStudyProgram'\r\nimport useModels from 'hooks/useModels';\r\nimport useErrorCatcher from 'hooks/useErrorCatcher';\r\n\r\nconst Layout = () => {\r\n  const [modal, toggleModal] = useState(false);\r\n  const [studyPrograms, setStudyPrograms] = useState({ rows: [], count: 0 });\r\n  const [studyProgram, setStudyProgram] = useState(undefined);\r\n  const [department, setDepartment] = useState(undefined);\r\n  const [page, setPage] = useState(1);\r\n  const [limit, setLimit] = useState(10);\r\n  const [loading, toggleLoading] = useState(true);\r\n  const { id } = useParams();\r\n  const { push } = useHistory()\r\n  const { models: { StudyProgram, Department } } = useModels();\r\n  const { errorCatch } = useErrorCatcher();\r\n\r\n  document.title = \"Dashboard - Program Studi\";\r\n\r\n  const getDepartment = useCallback(() => {\r\n    Department.single(id).then(resp => {\r\n      setDepartment(resp);\r\n    }).catch(errorCatch);\r\n  }, [Department, errorCatch, id]);\r\n\r\n  const getStudyPrograms = useCallback(() => {\r\n    toggleLoading(true);\r\n    const offset = (page - 1) * limit;\r\n    StudyProgram.collection({\r\n      attributes: ['name', 'type', 'diploma', 'department_id'],\r\n      limit,\r\n      offset,\r\n      where: {\r\n        department_id: id\r\n      }\r\n    }).then(resp => {\r\n      toggleLoading(false);\r\n      setStudyPrograms(resp);\r\n    }).catch(e => errorCatch(e));\r\n  }, [page, limit, StudyProgram, errorCatch, id]);\r\n\r\n  useEffect(() => {\r\n    getStudyPrograms();\r\n    getDepartment()\r\n  }, [getStudyPrograms, getDepartment]);\r\n\r\n  const deleteStudyProgram = useCallback((studyProgram) => {\r\n    studyProgram.delete().then(resp => {\r\n      message.success(`Program Studi ${resp.name} berhasil dihapus`);\r\n      getStudyPrograms();\r\n    }).catch(errorCatch);\r\n  }, [errorCatch, getStudyPrograms]);\r\n\r\n  const columns = useMemo(() => ([\r\n    {\r\n      title: 'Program Studi',\r\n      key: 'name',\r\n      dataIndex: 'name'\r\n    },\r\n    {\r\n      title: 'Program Diploma',\r\n      key: 'diploma',\r\n      dataIndex: 'diploma',\r\n      render: (val) => `Program Diploma ${val}`\r\n    },\r\n    {\r\n      title: 'Kelompok',\r\n      key: 'type',\r\n      dataIndex: 'type',\r\n      render: (val) => val === 'technology' ? 'Kelompok Sains Teknologi' : `Kelompok Sosial Humaniora`\r\n    },\r\n    {\r\n      title: 'Edit | Hapus',\r\n      key: 'action',\r\n      render: (row) => (\r\n        <Space>\r\n          <Tooltip title={`Edit ${row.name}`}>\r\n            <Button onClick={() => {\r\n              toggleModal(true);\r\n              setStudyProgram(row);\r\n            }} size=\"small\" icon={<EditOutlined />} />\r\n          </Tooltip>\r\n          <Tooltip title={`Hapus ${row.name}`}>\r\n            <Popconfirm\r\n              title={`Apakah Anda yakin ingin menghapus ${row.name}?`}\r\n              okText=\"Hapus\"\r\n              cancelText=\"Batal\"\r\n              okButtonProps={{ danger: true, type: 'primary' }}\r\n              onConfirm={() => deleteStudyProgram(row)}\r\n              placement=\"topRight\"\r\n            >\r\n              <Button size=\"small\" type=\"primary\" danger icon={<DeleteOutlined />} />\r\n            </Popconfirm>\r\n          </Tooltip>\r\n        </Space>\r\n      )\r\n    }\r\n  ]), [deleteStudyProgram]);\r\n\r\n  const createStudyProgram = useCallback((val, cb) => {\r\n    StudyProgram.create({ ...val, department_id: id }).then(resp => {\r\n      message.success(`Program Studi ${resp.name} berhasil ditambah`);\r\n      getStudyPrograms();\r\n      cb();\r\n      toggleModal(false);\r\n    }).catch(errorCatch);\r\n  }, [StudyProgram, getStudyPrograms, errorCatch, id]);\r\n\r\n  const updateStudyProgram = useCallback((val, cb) => {\r\n    if (typeof studyProgram !== 'undefined') {\r\n      studyProgram.update(val).then(resp => {\r\n        message.success(`Program studi ${studyProgram.name} berhasil diubah menjadi ${resp.name}`);\r\n        getStudyPrograms();\r\n        cb();\r\n        toggleModal(false);\r\n      }).catch(errorCatch);\r\n    }\r\n  }, [studyProgram, errorCatch, getStudyPrograms]);\r\n\r\n  return (\r\n    <div>\r\n      <PageHeader title={typeof department !== 'undefined' ? department.name : `Program Studi`} onBack={() => push('/dashboard/jurusan')} />\r\n      <AddStudyProgram visible={modal}\r\n        onCancel={() => {\r\n          toggleModal(false);\r\n          setStudyProgram(undefined)\r\n        }}\r\n        onOpen={() => toggleModal(true)}\r\n        onSubmit={typeof studyProgram !== 'undefined' ? updateStudyProgram : createStudyProgram}\r\n        studyProgram={studyProgram}\r\n      />\r\n      <Table\r\n        dataSource={studyPrograms.rows}\r\n        rowKey={item => `${item.id}`}\r\n        columns={columns}\r\n        bordered\r\n        pagination={{ current: page, onChange: setPage, pageSize: limit, onShowSizeChange: (page, size) => setLimit(size), total: studyPrograms.count }}\r\n        loading={{ indicator: <LoadingOutlined spin={loading} />, spinning: loading, tip: 'Mengambil data user' }}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Layout\r\n","import Layout from \"./Layout\"\r\n\r\nconst ProgramStudies = () => {\r\n  return (\r\n    <Layout />\r\n  )\r\n}\r\n\r\nexport default ProgramStudies\r\n","import { useState, useCallback, useMemo, useEffect } from 'react'\r\nimport { Button, Modal, Form, Input } from 'antd';\r\nimport { LoadingOutlined } from '@ant-design/icons';\r\n\r\n// 'program_chief' => kaprodi , 'chief' => kajur, 'vice_director' => wadir, 'director' => direk, 'head_team' => tim institusi, 'program_team' => tim prodi, 'administrator' => admin\r\n\r\nconst { useForm, Item } = Form;\r\n\r\nconst AddDepartment = ({ visible, onCancel, onSubmit, onOpen, department }) => {\r\n  const [loading, toggleLoading] = useState(false);\r\n  const [form] = useForm();\r\n\r\n  const isEdit = useMemo(() => (typeof department !== 'undefined'), [department]);\r\n\r\n  const clearForm = useCallback(() => {\r\n    form.resetFields(['name']);\r\n    toggleLoading(false);\r\n  }, [form]);\r\n\r\n  const onFinish = useCallback((val) => {\r\n    toggleLoading(true);\r\n    onSubmit(val, clearForm);\r\n  }, [onSubmit, clearForm]);\r\n\r\n  useEffect(() => {\r\n    (typeof department !== 'undefined') && form.setFieldsValue({\r\n      name: department.name\r\n    });\r\n  }, [department, form]);\r\n\r\n  return (\r\n    <>\r\n      <Button style={{ marginBottom: 12 }} onClick={onOpen}>Tambah Jurusan</Button>\r\n      <Modal afterClose={clearForm} visible={visible} onCancel={onCancel} title={isEdit ? `Edit ${department.name}` : `Tambah Jurusan`} footer={null}>\r\n        <Form onFinish={loading ? undefined : onFinish} form={form} layout=\"vertical\">\r\n          <Item name=\"name\" rules={[{ required: true, message: 'Masukkan nama program studi' }]} label=\"Jurusan\">\r\n            <Input prefix={loading && <LoadingOutlined spin />} placeholder=\"Jurusan\" />\r\n          </Item>          \r\n          <Item>\r\n            {isEdit ?\r\n              <Button htmlType=\"submit\" type=\"primary\" loading={loading}>Simpan</Button>\r\n              :\r\n              <Button htmlType=\"submit\" loading={loading}>Tambah Jurusan</Button>\r\n            }\r\n          </Item>\r\n        </Form>\r\n      </Modal>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default AddDepartment\r\n","import { useState, useCallback, useEffect, useMemo } from 'react'\r\nimport { Typography, Table, Space, Tooltip, Button, message, Popconfirm } from 'antd'\r\nimport { Link, useRouteMatch } from 'react-router-dom';\r\nimport { DeleteOutlined, EditOutlined, LoadingOutlined } from '@ant-design/icons';\r\nimport AddDepartment from './AddDepartment'\r\nimport useModels from 'hooks/useModels';\r\nimport useErrorCatcher from 'hooks/useErrorCatcher';\r\n\r\nconst Layout = () => {\r\n  const [modal, toggleModal] = useState(false);\r\n  const [departments, setDepartments] = useState({ rows: [], count: 0 });\r\n  const [department, setDepartment] = useState(undefined);\r\n  const [page, setPage] = useState(1);\r\n  const [limit, setLimit] = useState(10);\r\n  const [loading, toggleLoading] = useState(true);\r\n  const {path} = useRouteMatch();\r\n  const { models: { Department } } = useModels();\r\n  const { errorCatch } = useErrorCatcher();\r\n\r\n  document.title = \"Dashboard - Program Studi\";\r\n\r\n  const getDepartments = useCallback(() => {\r\n    toggleLoading(true);\r\n    const offset = (page - 1) * limit;\r\n    Department.collection({\r\n      attributes: ['name'],\r\n      limit,\r\n      offset\r\n    }).then(resp => {\r\n      toggleLoading(false);\r\n      setDepartments(resp);\r\n    }).catch(e => errorCatch(e));\r\n  }, [page, limit, Department, errorCatch]);\r\n\r\n  useEffect(() => {\r\n    getDepartments();\r\n  }, [getDepartments]);\r\n\r\n  const deleteDepartment = useCallback((department) => {\r\n    department.delete().then(resp => {\r\n      message.success(`Program Studi ${resp.name} berhasil dihapus`);\r\n      getDepartments();\r\n    }).catch(errorCatch);\r\n  }, [errorCatch, getDepartments]);\r\n\r\n  const columns = useMemo(() => ([\r\n    {\r\n      title: 'Jurusan',\r\n      key: 'name',\r\n      dataIndex: 'name',\r\n      render: (text, row) => (<Link to={`${path}/${row.id}`}>{text}</Link>)\r\n    },\r\n    {\r\n      title: 'Edit | Hapus',\r\n      key: 'action',\r\n      render: (row) => (\r\n        <Space>\r\n          <Tooltip title={`Edit ${row.name}`}>\r\n            <Button onClick={() => {\r\n              toggleModal(true);\r\n              setDepartment(row);\r\n            }} size=\"small\" icon={<EditOutlined />} />\r\n          </Tooltip>\r\n          <Tooltip title={`Hapus ${row.name}`}>\r\n            <Popconfirm\r\n              title={`Apakah Anda yakin ingin menghapus ${row.name}?`}\r\n              okText=\"Hapus\"\r\n              cancelText=\"Batal\"\r\n              okButtonProps={{ danger: true, type: 'primary' }}\r\n              onConfirm={() => deleteDepartment(row)}\r\n            >\r\n              <Button size=\"small\" type=\"primary\" danger icon={<DeleteOutlined />} />\r\n            </Popconfirm>\r\n          </Tooltip>\r\n        </Space>\r\n      )\r\n    }\r\n  ]), [deleteDepartment, path]);\r\n\r\n  const createDepartment = useCallback((val, cb) => {\r\n    Department.create(val).then(resp => {\r\n      message.success(`Jurusan ${resp.name} berhasil ditambah`);\r\n      getDepartments();\r\n      cb();\r\n      toggleModal(false);\r\n    }).catch(errorCatch);\r\n  }, [Department, getDepartments, errorCatch]);\r\n\r\n  const updateDepartment = useCallback((val, cb) => {\r\n    if (typeof department !== 'undefined') {\r\n      department.update(val).then(resp => {\r\n        message.success(`Jurusan ${department.name} berhasil diubah menjadi ${resp.name}`);\r\n        getDepartments();\r\n        cb();\r\n        toggleModal(false);\r\n      }).catch(errorCatch);\r\n    }\r\n  }, [department, errorCatch, getDepartments]);\r\n\r\n  return (\r\n    <div>\r\n      <Typography.Title level={5}>Jurusan</Typography.Title>\r\n      <AddDepartment visible={modal}\r\n        onCancel={() => {\r\n          toggleModal(false);\r\n          setDepartment(undefined)\r\n        }}\r\n        onOpen={() => toggleModal(true)}\r\n        onSubmit={typeof department !== 'undefined' ? updateDepartment : createDepartment}\r\n        department={department}\r\n      />\r\n      <Table\r\n        dataSource={departments.rows}\r\n        rowKey={item => `${item.id}`}\r\n        columns={columns}\r\n        bordered\r\n        pagination={{ current: page, onChange: setPage, pageSize: limit, onShowSizeChange: (page, size) => setLimit(size), total: departments.count }}\r\n        loading={{ indicator: <LoadingOutlined spin={loading} />, spinning: loading, tip: 'Mengambil data user' }}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Layout\r\n","import Layout from \"./Layout\"\r\n\r\nconst Department = () => {\r\n  return (\r\n    <Layout />\r\n  )\r\n}\r\n\r\nexport default Department\r\n","import ProgramStudies from \"pages/ProgramStudies\";\r\nimport { Switch, Route, useRouteMatch } from \"react-router-dom\"\r\nimport Department from \".\";\r\n\r\nconst Router = () => {\r\n  const {path} = useRouteMatch();\r\n  return (\r\n    <Switch>\r\n      <Route path={path} exact component={Department} />\r\n      <Route path={`${path}/:id`} exact component={ProgramStudies} />\r\n    </Switch>\r\n  )\r\n}\r\n\r\nexport default Router\r\n"],"sourceRoot":""}